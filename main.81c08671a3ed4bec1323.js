webpackJsonp([1],{10:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.clearBuffer=t.addToBuffer=t.compose=t.atLocation=t.inInventory=t.addTime=t.changeItem=t.changeSector=t.addToSector=t.removeFromSector=t.removeFromInventory=t.addToInventory=t.getItem=t.getSectorIndex=t.getSector=t.has=t.current=t.values=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(84),i=function(e){return e&&e.__esModule?e:{default:e}}(a),l=t.values=function(e){return Object.keys(e).map(function(t){return e[t]})},c=t.current=function(e){return l(e.sectors).find(function(t){return e.sector===t.idx})};t.has=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.getSector=function(e,t){return l(e.sectors).find(function(e){return t===e.idx})},t.getSectorIndex=function(e,t){return e.sectors[t].idx},t.getItem=function(e,t){return l(e.items).find(function(e){return e.id===t})},t.addToInventory=function(e){return function(t){return u({},t,{inventory:[].concat(o(t.inventory),[e])})}},t.removeFromInventory=function(e){return function(t){return u({},t,{inventory:t.inventory.filter(function(t){return t!==e})})}},t.removeFromSector=function(e,t){return function(n){var o=n.sectors[e],a=u({},o,{items:o.items.filter(function(e){return e!==t})});return u({},n,{sectors:u({},n.sectors,r({},e,a))})}},t.addToSector=function(e,t){return function(n){var a=n.sectors[e],i=u({},a,{items:[t].concat(o(a.items))});return u({},n,{sectors:u({},n.sectors,r({},e,i))})}},t.changeSector=function(e,t,n){return function(o){var a=o.sectors[e],i=u({},a,{modifiers:u({},a.modifiers,r({},t,n))});return u({},o,{sectors:u({},o.sectors,r({},e,i))})}},t.changeItem=function(e,t,n){return function(o){var a=o.items[e],i=u({},a,{modifiers:u({},a.modifiers,r({},t,n))});return u({},o,{items:u({},o.items,r({},e,i))})}},t.addTime=function(e){return u({},e,{time:e.time+1})},t.inInventory=function(e){return function(t){return t.inventory.find(function(t){return t===e})}},t.atLocation=function(e){return function(t){return c(t).id===e}},t.compose=function(e){return function(t){return e.reduce(function(e,t){return t(e)},t)}},t.addToBuffer=function(e){return function(t){return u({},t,{buffer:[(0,i.default)(e,t)].concat(o(t.buffer))})}},t.clearBuffer=function(e){return u({},e,{buffer:[]})}},137:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return Array.isArray(e)?e:Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=n(162),a=r(u),i=n(42),l=n(10),c=n(144),f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(c),s=n(154),d=r(s),p={sector:1,time:0,corruptionStart:5,corruptionMax:35,sectors:(0,a.default)(),inventory:["HEADPHONES","STURDY PIPE"],buffer:[],items:d.default},h=function(e){var t=e.split(" ").map(function(e){return e.toUpperCase()}),n=o(t),r=n[0],u=n.slice(1);switch(r){case"L":case"LOOK":return{action:r,target:o(u).slice(1).join(" ")};case"GO":case"TAKE":return{action:r,target:u.join(" ")};case"I":case"INV":case"INVENTORY":case"INPUT":return{action:r,target:u.join(" ")};case"E":case"EX":case"EXAMINE":case"USE":return{action:r,target:u.join(" ")};case"HELP":default:return{action:r}}},m=function(e,t){var n=h(e),r=n.action,o=n.target;return f[r]?f[r](t,o):(0,l.addToBuffer)("Not understood.")(t)};t.default=function(){var e=(0,l.addToBuffer)((0,i.describeSector)((0,l.current)(p),p))(p),t=[],n=function(e){return t.forEach(function(t){return t(e)})};return{subscribe:function(n){t.push(n),n(e)},dispatch:function(t){e=m(t,e),n(e)}}}},138:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(27),i=r(a),l=n(158),c=r(l),f=n(156),s=r(f),d=n(155),p=r(d),h=n(150),m=r(h),v=n(196),y=r(v),b=n(10),g=n(84),T=r(g),E=function(e){return e.reduce(function(e,t){return t+(e.length>0?"\n\n":"")+e},"")},O=function(e){return(0,b.getItem)(e,"HEADPHONES").modifiers.listening};t.default=function(e){var t=e.dispatch,n=o(e,["dispatch"]),r=(0,b.current)(n),a=(0,m.default)(r.id,n),l=a.textColor,f=a.backgroundColor;return i.default.createElement("div",null,i.default.createElement(c.default,{currentSector:r.idx-1,terminalText:E(n.buffer),textColor:l,backgroundColor:f,dispatch:t},Object.values(n.sectors).map(function(e){return i.default.createElement(s.default,u({key:e.id},(0,m.default)(e.id,n),{text:(0,T.default)(e.background,n)}))})),i.default.createElement(p.default,{playing:O(n),src:y.default}))}},141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=n(42);t.default=function(e,t){if(!t){return(0,r.addToBuffer)(e.inventory.length?"What do you want to examine?\nYou have:\n"+e.inventory.map(function(t){return(0,r.getItem)(e,t).shortDescription}).join("\n"):"Your inventory is empty, there is nothing to examine.")(e)}var n=e.inventory.find(function(e){return e===t});return n?(0,r.addToBuffer)((0,o.describeItem)(e,n))(e):(0,r.addToBuffer)("You don't have "+t)(e)}},142:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(42),u=n(10),a=function(e){var t=e.sectors.ARENA;return t.modifiers.wreckage?e:t.modifiers.visits>=t.modifiers.visitsUntilWreck?(0,u.compose)([(0,u.changeSector)("ARENA","wreckage",!0),(0,u.addToSector)("ARENA","POWER COUPLER")])(e):(0,u.changeSector)("ARENA","visits",t.modifiers.visits+1)(e)};t.default=function(e,t){if((0,u.current)(e).neighbors.map(function(t){return(0,u.getSector)(e,t.sector).id}).indexOf(t)<0)return(0,u.addToBuffer)("That's not a place you can go.")(e);var n=e.sectors[t];return(0,u.compose)([u.clearBuffer,u.addTime,a,(0,u.addToBuffer)((0,o.describeSector)(n,e))])(r({},e,{sector:n.idx}))}},143:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e){return(0,r.addToBuffer)("Commands: GO <location>, TAKE <item>, LOOK (at <item>), INVENTORY, INPUT <value>, USE <item>, EXAMINE <item in inventory>")(e)}},144:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.L=t.EX=t.E=t.INV=t.I=t.HELP=t.INPUT=t.USE=t.EXAMINE=t.INVENTORY=t.TAKE=t.GO=t.LOOK=void 0;var o=n(147),u=r(o),a=n(142),i=r(a),l=n(148),c=r(l),f=n(146),s=r(f),d=n(141),p=r(d),h=n(149),m=r(h),v=n(145),y=r(v),b=n(143),g=r(b);t.LOOK=u.default,t.GO=i.default,t.TAKE=c.default,t.INVENTORY=s.default,t.EXAMINE=p.default,t.USE=m.default,t.INPUT=y.default,t.HELP=g.default,t.I=s.default,t.INV=s.default,t.E=p.default,t.EX=p.default,t.L=u.default},145:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(152),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u=n(10);t.default=function(e,t){var n=(0,u.current)(e).items.find(function(t){return(0,u.getItem)(e,t).modifiers.inputtable});return n&&o.default[n]?o.default[n](e,t):(0,u.addToBuffer)("Nothing here to input.")(e)}},146:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){if(!t){return(0,r.addToBuffer)(e.inventory.length?"You have:\n"+e.inventory.map(function(t){return(0,r.getItem)(e,t).shortDescription}).join("\n"):"Your inventory is empty.")(e)}var n=(0,r.getItem)(e,e.inventory.find(function(e){return e===t}));return n?(0,r.addToBuffer)(n.description)(e):(0,r.addToBuffer)("You don't have "+t)(e)}},147:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(42),o=n(10);t.default=function(e,t){var n=(0,o.current)(e);if(!t)return(0,o.addToBuffer)((0,r.describeSector)(n,e))(e);var u=(0,o.current)(e).items.find(function(e){return e===t});return u?(0,o.addToBuffer)((0,r.describeItem)(e,u))(e):(0,o.addToBuffer)("You don't see "+t)(e)}},148:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){var n=(0,r.current)(e),o=n.items.find(function(e){return e===t}),u=o?(0,r.getItem)(e,t):void 0;if(u&&u.modifiers.takeable){return(0,r.compose)([(0,r.addToInventory)(u.id),(0,r.removeFromSector)(n.id,u.id),(0,r.addToBuffer)("You took "+u.shortDescription+".")])(e)}return u&&!u.modifiers.takeable?(0,r.addToBuffer)(u.rejectText?u.rejectText:"You can't take that.")(e):(0,r.addToBuffer)("There isn't "+t+" to be had.")(e)}},149:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(167),o=function(e){return e&&e.__esModule?e:{default:e}}(r),u=n(10);t.default=function(e,t,n){return(0,u.current)(e).items.find(function(e){return e===t})||(0,u.inInventory)(t)(e)?o.default[t]?o.default[t](e,n):(0,u.addToBuffer)("Don't know how to use "+t+".")(e):(0,u.addToBuffer)("Nothing like that here.")(e)}},150:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(198),u=r(o),a=n(199),i=r(a),l=n(202),c=r(l),f=n(201),s=r(f),d=n(197),p=r(d),h=n(203),m=r(h),v=n(200),y=r(v),b=n(204),g=r(b),T=n(205),E=r(T),O=n(206),x=r(O),w=n(207),_=r(w),A=n(208),P=r(A),S={CITY:i.default,ARRAY:u.default,DESERT:s.default,EMPTY:c.default,ARCHIVES:p.default,LABORATORY:m.default,CLUB:y.default,"POWER STATION":g.default,SETTLEMENT:E.default,TWELVE:x.default,VAULT:_.default,"WASTE PLANT":P.default};t.default=function(e,t){return S[e]?JSON.parse(S[e](t)):t.sectors[e]}},151:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){f.default.render(l.default.createElement(v.default,a({dispatch:g},e)),document.getElementById("app"))}function u(){b(o)}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(27),l=r(i),c=n(139),f=r(c),s=n(140),d=r(s),p=n(137),h=r(p),m=n(138),v=r(m),y=(0,h.default)(),b=y.subscribe,g=y.dispatch;d.default.load({classes:!1,google:{families:["Inconsolata"]},active:function(){setTimeout(u,500)}})},152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(153),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={SAFE:o.default}},153:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e,t){if("2235"===t){return(0,r.compose)([(0,r.changeSector)("LABORATORY","locked",!1),(0,r.addToSector)("LABORATORY","BLUEPRINTS"),(0,r.addToBuffer)("The code unlocks the safe.")])(e)}return(0,r.addToBuffer)("That code does nothing.")(e)}},154:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(410),u=r(o),a=n(407),i=r(a),l=n(408),c=r(l),f=n(409),s=r(f),d=n(413),p=r(d),h=n(412),m=r(h),v=n(406),y=r(v),b=n(411),g=r(b);t.default={"LIGHT SWITCH":u.default,"STURDY PIPE":p.default,"POWER COUPLER":g.default,CREDITS:i.default,DRONE:c.default,HEADPHONES:s.default,BLUEPRINTS:y.default,SAFE:m.default}},155:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(27),l=function(e){return e&&e.__esModule?e:{default:e}}(i),c=n(236),f=function(e){function t(e,n){r(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return u.sound=null,u}return u(t,e),a(t,[{key:"componentDidMount",value:function(){this.load()}},{key:"componentWillReceiveProps",value:function(e){var t=e.src,n=e.playing;t!==this.props.src&&this.load(),n&&!this.sound.playing()&&this.sound.play(),!n&&this.sound.playing()&&this.sound.stop()}},{key:"componentWillUnmount",value:function(){this.sound=null}},{key:"load",value:function(){var e=this.props.src;this.sound=new c.Howl({src:[e],loop:!0,html5:!0})}},{key:"render",value:function(){return null}}]),t}(l.default.Component);t.default=f},156:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(27),s=r(f),d=n(83),p=r(d),h=n(60),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),v=function(e){function t(){return u(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"shouldComponentUpdate",value:function(e){return e.active!==this.props.active||e.text!==this.props.text||e.backgroundColor!==this.props.backgroundColor||e.backgroundTextColor!==this.props.backgroundTextColor}},{key:"render",value:function(){var e=this.props,t=e.text,n=void 0===t?"":t,r=e.backgroundTextColor,u=void 0===r?"#115511":r,a=e.backgroundColor,i=void 0===a?"#112211":a,c=o(e,["text","backgroundTextColor","backgroundColor"]);return s.default.createElement(p.default,l({onRender:function(e){var t=e.width,r=e.height,o=e.getContext("2d");o.fillStyle=i,o.fillRect(0,0,t,r);var a=t/m.charWidth;o.font=m.font,o.fillStyle=u;for(var l=0;l<n.length;l+=1){var c=l%a*m.charWidth,f=(1+Math.floor(l/a))*m.lineHeight;o.fillText(n.charAt(l),c,f)}}},c))}}]),t}(s.default.Component);t.default=v},157:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e){return Array.isArray(e)?e:Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),d=n(27),p=r(d),h=n(60),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),v=n(83),y=r(v),b=new Set("abcdefghijklmnopqrstuvwxyz1234567890 "),g=new Set(["ArrowUp","Up"]),T=new Set(["ArrowDown","Down"]),E=Array.from(g).reduce(function(e,t){return e.add(t)},new Set(T.values())),O=function(e){function t(e,n){i(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.state={input:"",lookBehind:0,caret:{on:!0,when:e.now}},r.wrap(e.text),r}return c(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this;this.keylogger=document.addEventListener("keydown",function(t){var n=e.props.dispatch,r=e.state,o=r.input,u=r.lookBehind;if(b.has(t.key.toLowerCase()))e.setState({input:o+t.key});else if("Backspace"===t.key)t.preventDefault(),e.setState({input:o.substring(0,o.length-1)});else if("Enter"===t.key)n(o),e.setState({input:"",lookBehind:0});else if(E.has(t.key)){var a=T.has(t.key)?-1:1,i=e.wrappedLines.length-m.terminal.outputHeight;e.setState({lookBehind:Math.min(i,Math.max(0,u+a))})}})}},{key:"componentWillReceiveProps",value:function(e){e.id!==this.props.id&&this.setState({input:"",lookBehind:0}),e.now>this.state.caret.when+750&&this.setState({caret:{on:!this.state.caret.on,when:e.now}}),e.text!==this.props.text&&this.wrap(e.text)}},{key:"shouldComponentUpdate",value:function(e,t){return e.id!==this.props.id||e.text!==this.props.text||e.now>this.state.caret.when+750||t.input!==this.state.input||t.lookBehind!==this.state.lookBehind}},{key:"componentWillUnmount",value:function(){document.removeEventListener(this.keylogger)}},{key:"wrap",value:function(e){this.wrappedLines=e.split(/( |\n)/).reduce(function(e,t){if("\n"===t)return[""].concat(a(e));var n=u(e),r=n[0],o=n.slice(1);return r.length>=m.terminal.width&&" "===t?e:r.length+t.length<=m.terminal.width?[r+t].concat(a(o)):[t].concat(a(e))},[""]).reverse()}},{key:"render",value:function(){var e=this,t=this.props,n=t.textColor,r=void 0===n?"#44aa44":n,u=t.backgroundColor,a=void 0===u?"#112211":u,i=(t.now,o(t,["textColor","backgroundColor","now"])),l=this.state,c=l.input,s=l.caret,d=l.lookBehind;return p.default.createElement(y.default,f({onRender:function(t){var n=t.getContext("2d"),o=Math.max(0,e.wrappedLines.length-m.terminal.outputHeight-d),u=Math.max(m.terminal.outputHeight,e.wrappedLines.length-d),i=e.wrappedLines.slice(o,u);n.save(),n.translate(m.terminal.x*m.charWidth,m.terminal.y*m.lineHeight),n.fillStyle=a,n.fillRect(0,0,m.terminal.width*m.charWidth,(i.length+2+.2)*m.lineHeight),n.font=m.font,n.fillStyle=r,i.forEach(function(e,t){for(var r=0;r<e.length;r+=1)n.fillText(e.charAt(r),r*m.charWidth,(t+1)*m.lineHeight)});var l=c+(s.on?"■":"");n.translate(0,(i.length+1)*m.lineHeight);for(var f=0;f<l.length;f+=1)n.fillText(l.charAt(f),f*m.charWidth,m.lineHeight);n.restore()}},i))}}]),t}(p.default.Component);t.default=O},158:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=document.createElement("canvas");return t.width=e,t.height=e,t}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(27),s=r(f),d=n(303),p=r(d),h=n(0),m=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(h),v=n(178),y=n(159),b=n(60),g=n(157),T=r(g),E=v.easeElasticOut.period(1.5),O=function(e){function t(e,n){u(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));r.cameraPosition=new m.Vector3(0,0,5),r.lightPosition=new m.Vector3(-5,5,15),r.lightLookAt=new m.Vector3(0,0,0),r.canvases=[].concat(o(Array(12).keys())).map(function(){return l(b.textureSize)}),r.textures=r.canvases.map(function(e){return new m.CanvasTexture(e)}),r.materials=r.textures.map(function(e){return new m.MeshPhongMaterial({map:e,shading:m.FlatShading})});var i=performance.now();return r.state={now:i,last:{props:e,when:i}},r.animate=r.animate.bind(r),r.handleCanvasRender=r.handleCanvasRender.bind(r),window.addEventListener("resize",function(){return r.forceUpdate()}),r}return i(t,e),c(t,[{key:"componentDidMount",value:function(){var e=new m.DodecahedronGeometry;(0,y.updateUVs)(e);var t=new m.Mesh(e,this.materials);this.mount.add(t)}},{key:"componentWillReceiveProps",value:function(e){e.currentSector!==this.props.currentSector&&this.setState({last:{props:this.props,when:performance.now()}})}},{key:"animate",value:function(){this.setState({now:performance.now()})}},{key:"handleCanvasRender",value:function(e){this.textures[e].needsUpdate=!0}},{key:"render",value:function(){var e=this,t=window.innerWidth,n=window.innerHeight,r=this.state,o=r.now,u=r.last,a=o-u.when,i=Math.min(1,a/750),l=i<1,c=new m.Quaternion;m.Quaternion.slerp(y.rotations[u.props.currentSector],y.rotations[this.props.currentSector],c,E(i));var f=l?u.props:this.props,d=f.children,h=this.props,v=h.dispatch,b=h.currentSector,g=void 0===b?0:b,O=h.terminalText,x=void 0===O?"":O,w=h.textColor,_=void 0===w?"#44aa44":w,A=h.backgroundColor,P=void 0===A?"#112211":A;return s.default.createElement(p.default,{mainCamera:"camera",width:t,height:n,onAnimate:this.animate},s.default.createElement("scene",null,s.default.createElement("group",{quaternion:c.conjugate()},s.default.createElement("perspectiveCamera",{name:"camera",fov:20,aspect:t/n,near:.1,far:1e3,position:this.cameraPosition})),s.default.createElement("ambientLight",{intensity:.5}),s.default.createElement("directionalLight",{position:this.lightPosition,lookAt:this.lightLookAt}),s.default.createElement("group",{ref:function(t){e.mount=t}}),s.default.Children.map(d,function(t,n){return s.default.cloneElement(t,{id:n,active:!l&&n===g,canvas:e.canvases[n],didRender:e.handleCanvasRender})}),s.default.createElement(T.default,{text:x,dispatch:v,now:l?u.when:o,canvas:this.canvases[g],id:g,textColor:_,backgroundColor:P,didRender:this.handleCanvasRender})))}}]),t}(s.default.Component);t.default=O},159:function(e,t,n){"use strict";function r(e){for(var t=0;t<12;t+=1){e.faces[3*t].materialIndex=t,e.faces[3*t+1].materialIndex=t,e.faces[3*t+2].materialIndex=t;var n=e.faceVertexUvs[0][3*t];n[0].x=a.left.u,n[0].y=a.left.v,n[1].x=a.bottomLeft.u,n[1].y=a.bottomLeft.v,n[2].x=a.top.u,n[2].y=a.top.v,n=e.faceVertexUvs[0][3*t+1],n[0].x=a.bottomLeft.u,n[0].y=a.bottomLeft.v,n[1].x=a.bottomRight.u,n[1].y=a.bottomRight.v,n[2].x=a.top.u,n[2].y=a.top.v,n=e.faceVertexUvs[0][3*t+2],n[0].x=a.bottomRight.u,n[0].y=a.bottomRight.v,n[1].x=a.right.u,n[1].y=a.right.v,n[2].x=a.top.u,n[2].y=a.top.v}e.uvsNeedUpdate=!0}Object.defineProperty(t,"__esModule",{value:!0}),t.rotations=void 0,t.updateUVs=r;var o=n(0),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(o),a=(t.rotations=function(){function e(e,t,u){return e*n+t*r+u*o}var t=(1+Math.sqrt(5))/2,n=2*Math.atan(t),r=Math.PI-n,o=Math.PI/180*36;return[{x:[.5,0,0],y:[0,0,0],z:[0,0,-3]},{x:[.5,.5,0],y:[-.5,0,0],z:[0,0,-4.5]},{x:[0,0,0],y:[-1,-.5,0],z:[0,0,-2.5]},{x:[0,0,0],y:[1,.5,0],z:[0,0,-3.5]},{x:[-.5,-.5,0],y:[.5,0,0],z:[0,0,4.5]},{x:[-1.5,-1,0],y:[0,0,0],z:[0,0,2]},{x:[.5,.5,0],y:[.5,0,0],z:[0,0,.5]},{x:[0,0,0],y:[0,.5,0],z:[0,0,-2.5]},{x:[1.5,1,0],y:[0,0,0],z:[0,0,3]},{x:[0,0,0],y:[0,-.5,0],z:[0,0,-1.5]},{x:[-.5,-.5,0],y:[-.5,0,0],z:[0,0,1.5]},{x:[-.5,0,0],y:[0,0,0],z:[0,0,-2]}].map(function(t){return(new u.Quaternion).setFromEuler(new u.Euler(e(t.x[0],t.x[1],t.x[2]),e(t.y[0],t.y[1],t.y[2]),e(t.z[0],t.z[1],t.z[2]),"ZYX"))})}(),function(){var e=Math.PI/180*72,t=1/(1+2*Math.cos(e)),n=(1-t)/2,r=t*Math.sin(e),o=Math.PI/180*54;return{top:{u:.5,v:r+t*Math.cos(o)},left:{u:0,v:r},right:{u:1,v:r},bottomLeft:{u:n,v:0},bottomRight:{u:1-n,v:0}}}())},160:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){return e[Math.floor(Math.random()*e.length)]},o=function(e,t){return function(){return Math.random()<t?r(e):" "}},u=function e(t,n,r){return n>0?e(t+r(),n-1,r):t};t.default=function(e,t){return u("",2048,o(e,t))}},161:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(163),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(u),i=n(10),l=n(160),c=function(e){return e&&e.__esModule?e:{default:e}}(l),f={type:"SECTOR",items:[],modifiers:{}},s={1:[7,6,2,10,8],2:[1,6,3,11,10],3:[2,6,4,9,11],4:[3,6,7,5,9],5:[4,7,8,12,9],6:[2,1,7,4,3],7:[6,1,8,5,4],8:[7,1,10,12,5],9:[3,4,5,12,11],10:[1,2,11,12,8],11:[2,3,9,12,10],12:[8,10,11,9,5]},d=["NE","E","S","W","NW"],p=function(e){return e.map(function(e,t){return{direction:d[t],sector:e}})},h=function(e,t){return o({},f,{idx:e,neighbors:p(s[e])},t,{background:(0,c.default)(t.glyphs||["."],t.density||.1)})};t.default=function(){return(0,i.values)(a).reduce(function(e,t,n){var u=h(n+1,t);return o({},e,r({},u.id,u))},{})}},162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(161),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default},163:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.WASTE_PLANT=t.ARENA=t.SETTLEMENT=t.POWER_STATION=t.CLUB=t.LABORATORY=t.ARCHIVES=t.EMPTY=t.VAULT=t.DESERT=t.ARRAY=t.CITY=void 0;var o=n(416),u=r(o),a=n(417),i=r(a),l=n(419),c=r(l),f=n(424),s=r(f),d=n(420),p=r(d),h=n(414),m=r(h),v=n(421),y=r(v),b=n(418),g=r(b),T=n(422),E=r(T),O=n(423),x=r(O),w=n(415),_=r(w),A=n(425),P=r(A);t.CITY=i.default,t.ARRAY=u.default,t.DESERT=c.default,t.VAULT=s.default,t.EMPTY=p.default,t.ARCHIVES=m.default,t.LABORATORY=y.default,t.CLUB=g.default,t.POWER_STATION=E.default,t.SETTLEMENT=x.default,t.ARENA=_.default,t.WASTE_PLANT=P.default},164:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e){return(0,r.inInventory)("CREDITS")(e)?(0,r.compose)([(0,r.changeItem)("DRONE","takeable",!0),(0,r.removeFromInventory)("CREDITS"),(0,r.addToBuffer)("The children express their thanks as they run away. You can have the DRONE!")])(e):(0,r.addToBuffer)("You don't have any credits to use.")(e)}},165:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e){if(!(0,r.inInventory)("DRONE")(e))return(0,r.addToBuffer)("lol wat DRONE")(e);if((0,r.atLocation)("VAULT")(e)){return(0,r.compose)([(0,r.changeSector)("VAULT","guarded",!1),(0,r.removeFromInventory)("DRONE"),(0,r.addToSector)("VAULT","CREDITS"),(0,r.addToBuffer)("The guard runs after the drone.")])(e)}return(0,r.addToBuffer)("You'll lose it.")(e)}},166:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e){if(!(0,r.inInventory)("HEADPHONES")(e))return(0,r.addToBuffer)("You must have lost them")(e);var t=(0,r.getItem)(e,"HEADPHONES"),n=t.modifiers.listening?[(0,r.changeItem)("HEADPHONES","listening",!1),(0,r.addToBuffer)("You remove the headphones from your head. Anxiety builds within you, nearly reaching despair.")]:[(0,r.changeItem)("HEADPHONES","listening",!0),(0,r.addToBuffer)("You jam along to the music. A feeling of hope swells inside you.")];return(0,r.compose)(n)(e)}},167:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(168),u=r(o),a=n(165),i=r(a),l=n(164),c=r(l),f=n(166),s=r(f),d=n(169),p=r(d);t.default={"LIGHT SWITCH":u.default,"STURDY PIPE":p.default,DRONE:i.default,CREDITS:c.default,HEADPHONES:s.default}},168:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e){var t=(0,r.getItem)(e,"LIGHT SWITCH"),n="on"===t.modifiers.position?[(0,r.changeItem)("LIGHT SWITCH","position","off"),(0,r.changeSector)("POWER STATION","power",!1),(0,r.addToBuffer)("You flip the power switch. Lights turn off.")]:[(0,r.changeItem)("LIGHT SWITCH","position","on"),(0,r.changeSector)("POWER STATION","power",!0),(0,r.addToBuffer)("You flip the power switch. Lights come on.")];return(0,r.compose)(n)(e)}},169:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10);t.default=function(e){return(0,r.compose)([(0,r.changeSector)("WASTE PLANT","running",!1),(0,r.removeFromInventory)("STURDY PIPE"),(0,r.addToBuffer)("You jam the pipe into the waste recycler. It shudders. Stops.")])(e)}},170:function(e,t,n){"use strict";e.exports=function(e,t,n){return e.indexOf(t)>-1?n.fn(void 0):n.inverse(void 0)}},196:function(e,t,n){e.exports=n.p+"musicf13780a5cd602b37a61cd6d1397ae3b8.m4a"},197:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#14c814",\n  "textColor": "#122e16",\n  "backgroundTextColor": "#d9e861"\n}\n'},useData:!0})},198:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'"#E5FCC2"'},3:function(e,t,n,r,o){return'"#547980"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u;return'{\n  "backgroundColor": "#211b1b",\n  "textColor": "#9DE0AD",\n  "backgroundTextColor": '+(null!=(u=n.if.call(null!=t?t:e.nullContext||{},null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u.CITY:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:"")+"\n}\n"},useData:!0})},199:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'"#2d2d2d"'},3:function(e,t,n,r,o){return'"#001010"'},5:function(e,t,n,r,o){return'"#94acab"'},7:function(e,t,n,r,o){return'"#232d2d"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u,a=null!=t?t:e.nullContext||{};return'{\n  "backgroundColor": '+(null!=(u=n.if.call(a,null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u.CITY:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:"")+',\n  "textColor": "#666666",\n  "backgroundTextColor": '+(null!=(u=n.if.call(a,null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u.CITY:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o}))?u:"")+"\n}\n"},useData:!0})},200:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#214a3a",\n  "textColor": "#3c0312",\n  "backgroundTextColor": "#022619"\n}\n'},useData:!0})},201:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#022102",\n  "textColor": "#a6c3aa",\n  "backgroundTextColor": "#4b370f"\n}\n'},useData:!0})},202:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#080707",\n  "textColor": "#5d5c99",\n  "backgroundTextColor": "#0c4241"\n}\n'},useData:!0})},203:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#022102",\n  "textColor": "#a6c3aa",\n  "backgroundTextColor": "#4b370f"\n}\n'},useData:!0})},204:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return'"#2d2d2d"'},3:function(e,t,n,r,o){return'"#001010"'},5:function(e,t,n,r,o){return'"#94acab"'},7:function(e,t,n,r,o){return'"#232d2d"'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u,a=null!=t?t:e.nullContext||{};return'{\n  "backgroundColor": '+(null!=(u=n.if.call(a,null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u["POWER STATION"]:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:"")+',\n  "textColor": "#6bb4e3",\n  "backgroundTextColor": '+(null!=(u=n.if.call(a,null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u["POWER STATION"]:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o}))?u:"")+"\n}\n"},useData:!0})},205:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#022102",\n  "textColor": "#a6c3aa",\n  "backgroundTextColor": "#4b370f"\n}\n'},useData:!0})},206:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#022102",\n  "textColor": "#a6c3aa",\n  "backgroundTextColor": "#4b370f"\n}\n'},useData:!0})},207:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#022102",\n  "textColor": "#a6c3aa",\n  "backgroundTextColor": "#4b370f"\n}\n'},useData:!0})},208:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return'{\n  "backgroundColor": "#FFED90",\n  "textColor": "#341139",\n  "backgroundTextColor": "#359668"\n}\n'},useData:!0})},209:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return"These are archives.\n"},useData:!0})},210:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"  One of the pods has been severely damaged and lies in a heap of debris.\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u;return"A vast arena surrounds you. Near the center, brightly glowing pods are engaged in a fast paced combat sport.\n"+(null!=(u=n.if.call(null!=t?t:e.nullContext||{},null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u.ARENA:u)?u.modifiers:u)?u.wreckage:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.noop,data:o}))?u:"")},useData:!0})},211:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"The array glows. The panels illuminate with the code 2253.\n"},3:function(e,t,n,r,o){return"The array is dead. Seems to need... power.\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u;return null!=(u=n.if.call(null!=t?t:e.nullContext||{},null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u["POWER STATION"]:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:""},useData:!0})},212:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"  city with walls graffitied in smiley faces.\n"},3:function(e,t,n,r,o){return"  shining city. Spotless and immaculate.\n"},5:function(e,t,n,r,o){return"  You hear the hum of electricty powering the grid.\n"},7:function(e,t,n,r,o){return"  You notice that no lights seem to work.\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u,a=null!=t?t:e.nullContext||{};return"You see a\n"+(null!=(u=n.if.call(a,null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u["POWER STATION"]:u)?u.modfiers:u)?u.marked:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:"")+(null!=(u=n.if.call(a,null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u["POWER STATION"]:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(5,o,0),inverse:e.program(7,o,0),data:o}))?u:"")},useData:!0})},213:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return"Whump whump whump whump. The dancefloor is crowded.\n"},useData:!0})},214:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return"It's like money, but in computerland.\n"},useData:!0})},215:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return"Data bits bubble through flasks and pipes. The laboratory smells of tech-chems.\n"},useData:!0})},216:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u;return"The light switch is "+e.escapeExpression(e.lambda(null!=(u=null!=(u=null!=(u=null!=t?t.items:t)?u["LIGHT SWITCH"]:u)?u.modifiers:u)?u.position:u,t))+".\n"},useData:!0})},217:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){return"A 0x2f series power coupler built for combat pods. Can often be pushed far past its design specifications.\n"},useData:!0})},218:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"A switch was all that was holding the power station back from humming along smoothly.\n"},3:function(e,t,n,r,o){return"The power station sparks and squeals. Something is very wrong here.\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u;return null!=(u=n.if.call(null!=t?t:e.nullContext||{},null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u["POWER STATION"]:u)?u.modifiers:u)?u.power:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:""},useData:!0})},219:function(e,t,n){function r(e){return e&&(e.__esModule?e.default:e)}var o=n(6);e.exports=(o.default||o).template({1:function(e,t,n,r,o){return'A guard stands before you. "You may not enter here," they say.\n'},3:function(e,t,o,u,a){var i;return"Without a guard, you are able to access the vault.\n"+(null!=(i=r(n(170)).call(null!=t?t:e.nullContext||{},null!=(i=null!=(i=null!=t?t.sectors:t)?i.VAULT:i)?i.items:i,"CREDITS",{name:"ifIn",hash:{},fn:e.program(4,a,0),inverse:e.program(6,a,0),data:a}))?i:"")},4:function(e,t,n,r,o){return"  The vault is full of sweet creds.\n"},6:function(e,t,n,r,o){return"  The vault is empty.\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u;return null!=(u=n.if.call(null!=t?t:e.nullContext||{},null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u.VAULT:u)?u.modifiers:u)?u.guarded:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:""},useData:!0})},220:function(e,t,n){var r=n(6);e.exports=(r.default||r).template({1:function(e,t,n,r,o){return"It's a churnin'."},3:function(e,t,n,r,o){return"It's stopped"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,o){var u;return"This here is waste plant. "+(null!=(u=n.if.call(null!=t?t:e.nullContext||{},null!=(u=null!=(u=null!=(u=null!=t?t.sectors:t)?u["WASTE PLANT"]:u)?u.modifiers:u)?u.running:u,{name:"if",hash:{},fn:e.program(1,o,0),inverse:e.program(3,o,0),data:o}))?u:"")+"\n"},useData:!0})},406:function(e,t){e.exports={type:"ITEM",id:"BLUEPRINTS",shortDescription:"a set of BLUEPRINTS",modifiers:{takeable:!0}}},407:function(e,t){e.exports={type:"ITEM",id:"CREDITS",shortDescription:"CREDITS",modifiers:{takeable:!0}}},408:function(e,t){e.exports={type:"ITEM",id:"DRONE",shortDescription:"a DRONE",modifiers:{takeable:!1},rejectText:"Hey! You can't have that! That's ours! It's worth a lot of credits!"}},409:function(e,t){e.exports={type:"ITEM",id:"HEADPHONES",shortDescription:"a pair of HEADPHONES",modifiers:{listening:!1}}},410:function(e,t){e.exports={type:"ITEM",id:"LIGHT SWITCH",shortDescription:"a LIGHT SWITCH",modifiers:{position:"off",takeable:!1},rejectText:"Are you kidding? It's bolted to a wall."}},411:function(e,t){e.exports={type:"ITEM",id:"POWER COUPLER",shortDescription:"a POWER COUPLER",modifiers:{takeable:!0}}},412:function(e,t){e.exports={type:"ITEM",id:"SAFE",shortDescription:"a SAFE",modifiers:{takeable:!1,inputtable:!0},rejectText:"Nah."}},413:function(e,t){e.exports={type:"ITEM",id:"STURDY PIPE",shortDescription:"a strong, STURDY PIPE"}},414:function(e,t){e.exports={biome:"ARCHIVES",id:"ARCHIVES",items:[],modifiers:{power:!1,marked:!1}}},415:function(e,t){e.exports={id:"ARENA",items:[],modifiers:{wreckage:!1,visits:0,visitsUntilWreck:2}}},416:function(e,t){e.exports={biome:"ARRAY",id:"ARRAY",items:[]}},417:function(e,t){e.exports={biome:"CITY",id:"CITY",modifiers:{power:!1,marked:!1},glyphs:["╥","╣","├"],density:.04,backgroundColor:"#001010"}},418:function(e,t){e.exports={biome:"CLUB",id:"CLUB",items:[],modifiers:{power:!1,marked:!1}}},419:function(e,t){e.exports={biome:"DESERT",id:"DESERT",items:[],modifiers:{power:!1,marked:!1}}},42:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.describeItem=t.describeSector=void 0;var o=n(10),u=n(209),a=r(u),i=n(212),l=r(i),c=n(211),f=r(c),s=n(219),d=r(s),p=n(213),h=r(p),m=n(215),v=r(m),y=n(220),b=r(y),g=n(218),T=r(g),E=n(210),O=r(E),x=n(216),w=r(x),_=n(214),A=r(_),P=n(217),S=r(P),I=function(e){return e.replace(/\s+/g," ")},C={"LIGHT SWITCH":w.default,CREDITS:A.default,"POWER COUPLER":S.default},R={CITY:l.default,ARRAY:f.default,VAULT:d.default,CLUB:h.default,LABORATORY:v.default,ARCHIVES:a.default,"WASTE PLANT":b.default,"POWER STATION":T.default,ARENA:O.default},k=function(e,t){return R[t.id]?I(R[t.id](e)):"It's a sector"};t.describeSector=function(e,t){var n=e.items,r=e.neighbors,u=k(t,e),a=n.length?"Nearby you see "+n.map(function(e){return(0,o.getItem)(t,e).shortDescription}).join(", ")+".":null,i=r.map(function(e){return""+(t?(0,o.getSector)(t,e.sector).id:e.sector)});return u+(a?"\n\n"+a:"")+"\n\nExits: "+i.join(", ")},t.describeItem=function(e,t){return C[t]?C[t](e):"That item is undescribable."}},420:function(e,t){e.exports={biome:"EMPTY",id:"EMPTY",items:[],modifiers:{power:!1,marked:!1}}},421:function(e,t){e.exports={biome:"LABORATORY",id:"LABORATORY",items:["SAFE"],modifiers:{paid:!1},glyphs:["ː"],textColor:"#660044",backgroundColor:"#110000",backgroundTextColor:"#331111"}},422:function(e,t){e.exports={biome:"POWER STATION",id:"POWER STATION",items:["LIGHT SWITCH"],modifiers:{power:!1}}},423:function(e,t){e.exports={biome:"SETTLEMENT",id:"SETTLEMENT",items:[],modifiers:{power:!1,marked:!1}}},424:function(e,t){e.exports={id:"VAULT",items:[],modifiers:{guarded:!0}}},425:function(e,t){e.exports={biome:"WASTE PLANT",id:"WASTE PLANT",items:[],modifiers:{running:!0}}},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.font="24pt Inconsolata",t.textureSize=1024,t.lineHeight=32,t.charWidth=16,t.terminal={x:10,y:10,width:44,height:18,outputHeight:16}},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.canvas,n=e.id,r=e.onRender,o=e.didRender;return r(t),o(n),null}},84:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["X","x"],o=function(e){return e[Math.floor(Math.random()*e.length)]},u=function(e,t){return 8e-4*t/e},a=function(e,t,n){return" "!==e&&Math.random()<u(t,n)?o(r):e};t.default=function(e,t){var n=t.sector,r=t.time;return e.split("").map(function(e){return a(e,n,r)}).join("")}}},[151]);